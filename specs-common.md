# Спецификация Веб-приложения: Общие Модули

## 1. Обзор

Данный документ описывает общие функциональные и нефункциональные требования к веб-приложению, предназначенному для обзора и сравнения [Предметной области, например, криптовалютных бирж или книг]. Цель - предоставить пользователям актуальную, объективную и удобную информацию, а также платформу для обмена мнениями.

## 2. Общие Функциональные Требования

### 2.1. Страница всех отзывов (`/reviews` или `/предметная_область/reviews`)

*   **Назначение:** Агрегация всех отзывов пользователей по всем элементам предметной области.
*   **Компоненты:**
    *   **Список отзывов:**
        *   Отображение карточек отзывов с пагинацией.
        *   **Содержимое карточки:** Элемент (название + изображение/лого), автор отзыва (никнейм), дата, оценка(и), текст отзыва, [специфичные для предметной области детали, напр., скриншоты или цитаты], оценка полезности отзыва.
    *   **Фильтры:**
        *   По элементу предметной области.
        *   По общей оценке (диапазон звезд).
        *   По языку отзыва (если планируется поддержка).
        *   По дате добавления (период).
        *   [Специфичные для предметной области фильтры, напр., наличие скриншота или спойлеров].
        *   По статусу модерации (одобренные).
    *   **Сортировка:** По дате, по полезности.
    *   **Модерация:** Отзывы проходят премодерацию или постмодерацию. Визуальное обозначение проверенных/одобренных отзывов.
    *   **Хештеги/Темы:** Возможность добавления администратором или автоматического присвоения тегов к отзывам.
    *   **Оценки полезности:** Кнопки "Полезный отзыв" / "Бесполезный отзыв" (требуется авторизация).

### 2.2. Авторизация / Личный кабинет

#### 2.2.1. Аутентификация

*   **Регистрация:**
    *   Через Email + Пароль.
    *   Подтверждение Email по ссылке.
*   **Вход:**
    *   Email + Пароль.
*   **Восстановление пароля:**
    *   Функция "Забыли пароль?" с отправкой ссылки на сброс на Email.
*   **Безопасность:**
    *   Использование JWT (JSON Web Tokens) с коротким сроком жизни access token и долгоживущим refresh token.
    *   Хеширование паролей (например, bcrypt).
    *   Rate limiting на попытки входа и регистрации.

#### 2.2.2. Личный кабинет (`/profile`)

*   **Назначение:** Управление данными пользователя и его активностью на сайте.
*   **Компоненты:**
    *   **Профиль пользователя:**
        *   Возможность изменить никнейм, аватар (опционально).
        *   Просмотр Email (без возможности изменения напрямую).
        *   Смена пароля.
    *   **История активности:**
        *   Список оставленных пользователем отзывов (с возможностью редактирования/удаления в течение ограниченного времени или до начала модерации).
        *   Список оценок полезности, поставленных чужим отзывам.
        *   [Специфичные для предметной области списки, напр., "Избранное", "Прочитано"].
    *   **Настройки уведомлений (опционально):**
        *   Уведомления об ответах на отзывы, о статусе модерации, [другие релевантные уведомления].

### 2.3. Информационные страницы

*   **О проекте (`/about`):**
    *   Миссия и цели проекта.
    *   Описание методологии расчета рейтингов (прозрачность).
    *   Как работает модерация отзывов, правила публикации.
*   **Контакты (`/contacts`):**
    *   Контактная информация (Email).
    *   Форма обратной связи.
*   **Правила сайта / Пользовательское соглашение (`/terms`):**
    *   Правила поведения, условия использования сервиса.
*   **Политика конфиденциальности (`/privacy`):**
    *   Как обрабатываются и хранятся данные пользователей.
*   **FAQ (`/faq`):**
    *   Ответы на часто задаваемые вопросы.

## 3. Общие Ключевые Модули и Технические Аспекты

*   **Аутентификация:**
    *   Реализация на базе Email/Password.
    *   JWT (access + refresh tokens).
    *   Rate limiting на формы (логин, регистрация, отзывы, оценка полезности).
    *   Защита от CSRF.
*   **Система Отзывов:**
    *   Хранение отзывов, оценок по категориям, [специфичные данные, напр., скриншоты или цитаты].
    *   Механизм оценки полезности отзыва (+/-).
    *   Система жалоб на недостоверные/спамные отзывы (для модераторов).
    *   Механизм модерации (очередь на проверку, статусы: на модерации, одобрен, отклонен).
    *   [Специфичные механизмы, напр., маркировка спойлеров].
*   **Система Рейтингов:**
    *   Автоматический пересчет средних рейтингов элементов (общий и по категориям) на основе одобренных отзывов.
    *   Определение критериев веса для разных оценок (если необходимо).
    *   Фоновый процесс (cron job) для обновления рейтингов и агрегированных данных.
*   **Административная панель (Общие части):**
    *   Управление пользователями (просмотр, блокировка).
    *   Модерация отзывов (одобрение, отклонение, редактирование, ответы от имени администрации).
    *   Управление жалобами на отзывы.
    *   Управление новостями.
    *   Редактирование контента статических страниц (О проекте, FAQ и т.д.).
    *   *Примечание: Требуются специфичные разделы для управления элементами предметной области (напр., биржами или книгами/авторами).*

*Примечание: Эта спецификация не включает уникальные для каждой предметной области страницы (главная, страница элемента) и специфические детали реализации (конкретные фильтры, категории оценок, поля данных элемента).*